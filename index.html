<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.2.0/css/all.min.css"
    />
    <link rel="stylesheet" href="style.css" />
    <script type="text/javascript" src="md5.min.js"></script>
    <title>Login</title>
  </head>
  <body>
    <div class="main-login">
      <div class="left-login">
        <h1>MD5 Generator</h1>
        <img
          src="md5generator.svg"
          class="left-login-img"
          alt="entry2 animation"
        />
      </div>
      <div class="right-login">
        <div class="card-login">
          <h1>GENERATE</h1>
          <div class="text-field">
            <label for="entry1">Entry 1</label>
            <input
              type="password"
              name="entry1"
              placeholder="Entry 1"
              id="entry1"
            />
            <div class="eye">
              <i class="fa-solid fa-eye-slash" id="show-password1"></i>
            </div>
          </div>
          <div class="text-field">
            <label for="entry2">Entry 2</label>
            <input
              type="password"
              name="entry2"
              placeholder="Entry 2"
              id="entry2"
            />
            <div class="eye">
              <i class="fa-solid fa-eye-slash" id="show-password2"></i>
            </div>
          </div>
          <div class="text-field">
            <label for="limit">Output characters limit</label>
            <input
              type="number"
              placeholder="Limit of characters"
              value="32"
              name="limit"
              id="limit"
            />
          </div>
          <div class="text-field">
            <label for="entry2">Hash</label>
            <input type="text" name="hash" placeholder="Hash" id="hash" />
          </div>
          <button class="btn-login" id="run">Run</button>
        </div>
      </div>
    </div>
    <footer>
      <a href="https://storyset.com/user">Illustrations by Storyset</a>
    </footer>
  </body>
  <script>
    var entry1 = ""
    var entry2 = ""
    var button = document.querySelector("button")
    const showPassword1 = document.querySelector("#show-password1")
    const showPassword2 = document.querySelector("#show-password2")
    const passwordField1 = document.querySelector("#entry1")
    const passwordField2 = document.querySelector("#entry2")

    showPassword1.addEventListener("click", function () {
      if (showPassword1.className == "fa-solid fa-eye-slash") {
        showPassword1.classList.remove("fa-eye-slash")
        showPassword1.classList.add("fa-eye")
      } else {
        showPassword1.classList.remove("fa-eye")
        showPassword1.classList.add("fa-eye-slash")
      }
      const type =
        passwordField1.getAttribute("type") === "password" ? "text" : "password"
      passwordField1.setAttribute("type", type)
    })

    showPassword2.addEventListener("click", function () {
      if (showPassword2.className == "fa-solid fa-eye") {
        showPassword2.classList.remove("fa-eye")
        showPassword2.classList.add("fa-eye-slash")
      } else {
        showPassword2.classList.remove("fa-eye-slash")
        showPassword2.classList.add("fa-eye")
      }
      const type =
        passwordField2.getAttribute("type") === "password" ? "text" : "password"
      passwordField2.setAttribute("type", type)
    })

    function md5fier() {
      let limit = document.querySelector("#limit").value
      entry1 = document.querySelector("#entry1").value
      entry2 = document.querySelector("#entry2").value
      firstStep = md5(entry1)
      secondStep = md5(entry2)
      thirdStep = firstStep + secondStep
      fourthStep = md5(thirdStep)
      newPassword = fourthStep.substring(0, limit)
      document.querySelector("#hash").value = newPassword
    }

    button.onclick = function () {
      md5fier()
    }
  </script>
</html>
